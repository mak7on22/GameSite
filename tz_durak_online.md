# Техническое задание (ТЗ)

## Проект: Внедрение игры «Дурак онлайн»

**Версия:** 1.0    **Дата:** 25 июня 2025

---

### 1. Цель работы

1. Полностью очистить страницу **/Game** от старых проектов‑игр.
2. Создать на странице **/Game** одну интерактивную карточку «**Дурак онлайн**» (размер 250 × 320 px).
3. По клику по карточке открывать отдельную страницу с самой игрой, использующей файл **wwwroot/js/DurackOnline.js** и ресурсы из **wwwroot/textures/cards/**.

### 2. Существующая структура

```
/Pages
   └─ Game/ (Index.cshtml, etc.)
/wwwroot
   ├─ js/
   │   └─ DurackOnline.js   (загружен заказчиком)
   └─ textures/
       └─ cards/             (52 PNG‑шаблона карт + back.png)
```

> **Примечание:** путь и имена сохранять без изменений.

### 3. Изменения на странице /Game

| №   | Задача                         | Конкретные действия                                                                                                                                                                                       | Критерий приёмки                                                                                                           |
| --- | ------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------- |
| 3‑1 | Удалить старые игры            | Удалить все перечисления/карточки/компоненты, связанные с прочими играми, из *Game/Index.cs(razor/html)*.                                                                                                 | При открытии /Game отображается пустой фон без элементов.                                                                  |
| 3‑2 | Добавить единственную карточку | 1. Добавить `div.card--durak` 250×320 px.2. Визуал: лёгкая тень, скругление 16 px, фон — превью рубашки карт (`/textures/cards/back.png`) с полупрозрачным градиентом.3. В центре подпись «Дурак онлайн». | Карточка визуально соответствует макету и находится по центру (или согласно сетке проекта).                                |
| 3‑3 | Навигация                      | Обернуть карточку ссылкой/кликом‑обработчиком → `/Game/DurakOnline` (маршрут ниже).                                                                                                                       | При клике страница переходит на адрес игры без перезагрузки SPA или полным переходом (согласовать с архитектурой проекта). |

### 4. Новая страница игры — /Game/DurakOnline

| №   | Задача                      | Конкретные действия                                                                                                                    | Критерий приёмки                                                |
| --- | --------------------------- | -------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------- |
| 4‑1 | Создать Razor/HTML‑страницу | Файл: *Game/DurakOnline.cshtml* (или React‑роут в SPA), содержащий лишь контейнер `<div id="durak-root"></div>` и подключение скрипта. | При открытии отображается пустой контейнер; консоль без ошибок. |
| 4‑2 | Подключить скрипт           | Добавить `<script src="~/js/DurackOnline.js" type="module"></script>` после контейнера.                                                | Сторонние ресурсы подгружаются, в консоли нет 404.              |

### 5. Требования к **DurackOnline.js** (общее)

1. **Архитектура**: клиентская, без сервер‑рендера; допускаются React 18 + Vite, либо чистый TS/JS.
2. **Колода**: поддержка 24 (9–A), 36 (6–A) и 52 карт.
3. **UI**: анимация раздачи 6×2 карт (framer‑motion или CSS‑keyframes).
4. **Отображение карт**: игрок — лицо вверх; ИИ и/или противники — рубашкой.
5. **Файлы карт**: брать из `/textures/cards/<rank>_of_<suit>.png`; рубашка — `back.png`.
6. **Игровые режимы** (минимум):
   - «Быстрая» — 24 карты;
   - «Стандарт» — 36 карт;
   - «Длинная» — 52 карты.
7. **Расклад / правила**: классический «подкидной» (переводной — опционно).
8. **ИИ**: базовый (минимум «бьёт меньшим козырем / минимальной подходящей»).
9. **Онлайн**: задел для WebSocket‑подключения, но не обязательная часть текущего релиза.
10. **Adaptivity**: макет должен корректно работать от 360 px ширины.
11. **Модули и сборка**: если React — подключить как bundled скрипт (Vite‑build) в тот же *wwwroot/js*.

> **Важно**: Если выбирается React‑версия прототипа (см. DurakApp.jsx), скрипт DurackOnline.js может импортировать скомпилированные chunk‑файлы Vite (`import("./durak.bundle.js")`).

### 6. Стиль и UI‑гайд

- Основной фон страницы — зелёный сукно (#16532d ±5 %).
- Карточка лобби — тёмный/прозрачный фон, белый текст, лёгкий hover‑поднятие.
- Все изображения карт — `max-width: 100%;` с скруглением 8 px.

### 7. Тестирование

1. **Unit**: функции генерации колоды, шафл, проверка возможного хода.
2. **UI**: Chrome, Firefox, Safari, Edge — десктоп + мобильные эмуляторы.
3. **E2E** (опц.): начать игру, раздать, сделать ход, убедиться, что ИИ отбивается.

### 8. Критерии приёмки

-

### 9. Сроки и этапы

| Этап                       | Срок         | Выходной артефакт                          |
| -------------------------- | ------------ | ------------------------------------------ |
| 1. Чистка страницы /Game   | +1 раб. день | Пустая /Game без ошибок                    |
| 2. Карточка «Дурак онлайн» | +2 раб. дня  | Карточка с навигацией                      |
| 3. MVP игры                | +7 раб. дней | DurackOnline.js с раздачей и базовым ходом |

---

**Ответственный за приёмку:** *ФИО Заказчика*\
**Исполнитель:** *Codex/Dev Team*

